<div class="col-12 smaller-banner d-flex flex-column justify-content-end py-3">
  <div class="ms-4">
    <h1><strong>Your creative <br>journey so far</strong></h1>
  </div>
</div>

<div class="container">

  <div class="preferences ms-3 mt-5">
    <h4 class="mb-3">Tailored for <b>you!</b></h4>
    <% if current_user.length_preference == nil || current_user.category_preference == nil %>
      <div class="my-4">
        <%= link_to "Set Preferences", edit_user_path(current_user), class: "preference-button btn rounded-pill" %>
      </div>
    <% else %>
      <div class="d-grid col-6 mx-auto">
        <button class="preference-button btn rounded-pill my-2">
          <% if current_user.category_preference == 'Creative Lesson' %>
            <i class="fa-solid fa-circle-play text-dark"></i>
          <% elsif current_user.category_preference == 'Creative Writing' %>
            <i class="fa-solid fa-book-open text-dark"></i>
          <% else %>
            <i class="fa-solid fa-paintbrush text-dark"></i>
          <% end %>
          <%= link_to current_user.category_preference, edit_user_path(current_user), class: "text-decoration-none text-dark" %>
        </button>
      </div>
      <div class="d-grid col-6 mx-auto">
        <button class="preference-button btn rounded-pill my-2">
          <i class="fa-solid fa-hourglass-half text-dark"></i>
          <%= link_to "#{current_user.length_preference} minutes", edit_user_path(current_user), class: "text-decoration-none text-dark" %>
        </button>
      </div>
    <% end %>
  </div>

  <div class="learning-track mt-5">
    <h4 class="ms-3 mb-3">Your learning track</h4>
    <div class="d-flex justify-content-around">
      <% @last_2_challenges.each do |challenge| %>
        <%= link_to "/completed_challenges/#{challenge.id}" do %>
          <div class="card text-bg-primary my-3 rounded-5" style="width: 10rem; height: 10rem;">
            <div class="container py-2 d-flex flex-column justify-content-between" style="height: 100%;">
              <div class="card-body"></div>
              <div class="border border-black p-1 rounded-5">
                <% if challenge.challenge.category == 'Creative Lesson' %>
                  <i class="fa-solid fa-circle-play text-dark"></i>
                <% elsif challenge.challenge.category == 'Creative Writing' %>
                  <i class="fa-solid fa-book-open text-dark"></i>
                <% else %>
                  <i class="fa-solid fa-paintbrush text-dark"></i>
                <% end %>
                <%= challenge.challenge.name.titleize %>
              </div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
    <div class="text-center mt-5">
      <%= link_to "Review all past challenges...", user_challenges_path, class: "show-button btn btn-lg rounded-pill" %>
    </div>
  </div>

</div>
